<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>loginform 선생님</title>
    <!-- 0단계 iconfont -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/loginform0.css">

    <!-- 3단계 iquery cdn -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      $(function(){
        // 로그인 팝업띄우기 25단계
        $('#btn-login').click(function(){
          // 로그인폼을 띄우기 전에 아이디와 패스워드 값을 초기화 32단계
          $('#id').val(''); //초기화
          $('#password').val(''); //초기화
          $('.login-form').fadeIn();
        })

        // 아이디, 패스워드 입력창에 포커스가 발생했을 때 26단계
        $('#id, #password').focus(function(){
          $(this).prev('label').addClass('change');
        })

        // 다시 눌렀을때 포커스-흰색에서 검정색으로 바뀌는거 27단계
        $('#id, #password').focusout(function(){
          $(this).prev('label').removeClass('change');
        })

        // 아이디, 패스워드 값을 입력했을 때 28단계
        $('#id, #password').keyup(function(){

          var length=$(this).val().length;
          console.log(length);
          // 입력된 값이 있을 경우 메세지 숨긴다.
          if(length!=0){
            $(this).next('.message').hide(); //29-2단계 remove도 되고 hide도 된다.
            //remove()제거, hide()숨김처리
          }
        })

        // 로그인폼의 버튼을 눌렀을 때 29단계
        $('#btn-submit').click(function(){
          //.message클래스가 적용된 요소가 있다면 삭제 29-3단계
          $('.message').remove();
          // 아이디와 패스워드의 값을 변수에 저장
          var id=$('#id').val();
          var password=$('#password').val();

          // 아이디와 패스워드의 값이 빈값일 경우 체크
          if(id==''){ //아이디가 빈값일경우
            $('#id').after('<p class="message">아이디값을 입력하세요</p>');
            $('#id').focus(); //아이디를 입력할 수 있도록 포커스 이동
          }else if(password==''){ //패스워드가 빈값일 경우
            $('#password').after('<p class="message">아이디값을 입력하세요</p>');
            $('#password').focus(); //패스워드를 입력할 수 있도록 포커스 이동

          }else{ //둘다 값이 있을 경우 30단계
            $('#btn-login').hide(); //로그인버튼 숨기기
            $('.login-form').fadeOut(1000, function(){
              $('.user-info').find('b').text(id); //로그인한 id값을 b요소에 저장
              $('.user-info').show(); //로그인정보를 보여줌
            })
          }
        })
        //로그아웃 버튼 누르기 31단계
        $('#btn-logout').click(function(){
          $('.user-info').hide();
          $('#btn-login').show();
        })
      })
    </script>
  </head>
  <body>
    <!-- 1단계 로그인을 하기 위한 버튼/로그인을 했을 때 정보 -->
    <div class="center"> <!--10단계후 sylte=display:none;해주고 다시 없애준다 24-2단계 -->
      <button id="btn-login">login</button>
      <div class="user-info">
        <span><b>홍길동</b>님 반갑습니다.</span>
        <button id="btn-logout">logout</button>
      </div>
    </div>

    <!-- 2단계loginform -->
    <div class="login-form">
      <h1>LOGIN</h1>
      <form action="">
        <label for="id">아이디</label>
        <input type="text" placeholder="아이디" id="id">
        <!-- 29-2단계 <p class="message">아이디값을 입력하세요.</p> -->
        <label for="password">비밀번호</label>
        <input type="password" placeholder="비밀번호" id="password">
        <button id="btn-submit" type="button">login</button>
        <p class="find-info">정보를 잊으셨나요?
          <a href="#">새아이디찾기</a> |
          <a href="#">비밀번호찾기</a>
        </p>
      </form>
    </div>
  </body>
</html>
